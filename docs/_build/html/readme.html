
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>waterpy &#8212; waterpy 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Overview" href="overview.html" />
    <link rel="prev" title="Welcome to waterpy’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <a class="reference external image-reference" href="http://www.usgs.gov/"><img alt="U.S. Geological Survey logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/USGS_logo_green.svg/320px-USGS_logo_green.svg.png" /></a>
<div class="section" id="waterpy">
<h1>waterpy<a class="headerlink" href="#waterpy" title="Permalink to this headline">¶</a></h1>
<p><em>waterpy</em> is a rainfall-runoff model that predicts the amount of water
flow in rivers. <em>waterpy</em> is a command line application written in Python
using <a class="reference external" href="https://click.palletsprojects.com/">Click</a>, and is a complete conversion of the original rainfall-runoff
model, called Topmodel, from Fortran to Python. The specific version of
Topmodel that <em>waterpy</em> was initially based on a version by David Wolock,
U.S. Geological Survey. Please see report below for more details:</p>
<blockquote>
<div><p>Wolock, D.M., “Simulating the variable-source-area concept of
streamflow generation with the watershed model Topmodel”, U.S. Geological
Survey, Water-Resources Investigations Report 93-4124, 1993.</p>
</div></blockquote>
<p>The David Wolock version was recoded and reproduced in the <a class="reference external" href="https://github.com/jlant/topmodelpy">topmodelpy</a> project.</p>
<p><em>waterpy</em> is a fork of the David Wolock version with many modifications in an
attempt to replicated the Topmodel versions by Leon Kaufmann (USGS) and
Tanja Williamson (USGS). Please see report below for more details:</p>
<blockquote>
<div><p>Williamson, T.N., Lant, J.G., Claggett, P.R., Nystrom, E.A.,
Milly, P.C.D., Nelson, H.L., Hoffman, S.A., Colarullo, S.J., and Fischer, J.M.,
2015, Summary of hydrologic modeling for the Delaware River Basin using the
Water Availability Tool for Environmental Resources (WATER): U.S. Geological
Survey Scientific Investigations Report 2015–5143, 68 p.,
<a class="reference external" href="http://dx.doi.org/10.3133/sir20155143">http://dx.doi.org/10.3133/sir20155143</a></p>
</div></blockquote>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Written entirely in Python for ease of use and model extension.</p></li>
</ul>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>To run waterpy, give waterpy the command <cite>run</cite> along with the path to the
model configuration file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ waterpy run &lt;path-to-your-modelconfig.ini&gt;
$ waterpy run data/modelconfig.ini
</pre></div>
</div>
<p>The model results are saved to the output directory location specified in
the model configuration file.</p>
<p>A sample model configuration file called <cite>modelconfig.ini</cite> is located in the
<cite>data/</cite> directory along with sample input files located in the <cite>inputs/</cite>
directory and sample output files located in the <cite>outputs/</cite> directory.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>Code documentation is located in the <cite>data</cite> directory.</p>
</div>
<div class="section" id="tests">
<h2>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h2>
<p>A suite of tests were built using <a class="reference external" href="http://pytest.org/latest/">pytest</a>.</p>
<p>To run the test suite, from the command line in the project’s root directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ py.test tests/
</pre></div>
</div>
</div>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>The following are the main requirements/dependencies:</p>
<p>Click==7.0
Jinja2==2.10.1
matplotlib==3.0.3
mpld3==0.3
numpy==1.16.2
pandas==0.24.1
pytest==4.3.0
scipy==1.2.1</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To install waterpy from source:</p>
<ol class="arabic">
<li><p>Check that you have <a class="reference external" href="https://www.python.org/">Python</a> installed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python --version
</pre></div>
</div>
</li>
</ol>
<p>If you do not have <a class="reference external" href="https://www.python.org/">Python</a> installed, please download the latest version from <a class="reference external" href="https://www.python.org/downloads/">Python’s download page</a></p>
<ol class="arabic" start="2">
<li><p>Download waterpy from the repository and extract to a directory of your choice.</p>
<p>Or, if you have <a class="reference external" href="https://git-scm.com/">git</a> installed you can clone the project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone &lt;remote url to waterpy&gt;
</pre></div>
</div>
</li>
<li><p>Navigate to the project’s root directory where the setup script called <cite>setup.py</cite> is located:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd waterpy/
</pre></div>
</div>
</li>
</ol>
<div class="line-block">
<div class="line">The <cite>setup.py</cite> is a Python file that contains information regarding the installation of a Python module/package, and</div>
<div class="line">usually specifies that the module/package has been packaged and distributed with the standard Python distribution</div>
<div class="line">package called <a class="reference external" href="https://docs.python.org/3/library/distutils.html">Distutils</a>.</div>
</div>
<ol class="arabic" start="4">
<li><p>Run <cite>setup.py</cite> with the <cite>install</cite> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py install
</pre></div>
</div>
</li>
</ol>
<p>waterpy will now be installed to the standard location for third-party Python modules on your
computer platform.</p>
<p>All the required 3rd party packages in the “Requirements” section should be installed as well,
however, if the additional packages are not installed you can manually install them using <cite>pip</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install click jinja2 matplotlib mpld3 numpy pandas scipy
</pre></div>
</div>
<p>or from within the parent <em>waterpy</em> directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install requirements.txt
</pre></div>
</div>
<p>For more information regarding installing third-party Python modules, please see <a class="reference external" href="https://docs.python.org/3.5/install/">Installing Python Modules</a>
For a description of how installation works including where the module will be installed on your computer platform,
please see <a class="reference external" href="https://docs.python.org/3.5/install/#how-installation-works">How Installation Works</a>.</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>This software is licensed under <a class="reference external" href="http://creativecommons.org/publicdomain/zero/1.0/">CC0 1.0</a> and is in the <a class="reference external" href="https://en.wikipedia.org/wiki/Public_domain">public domain</a> because it contains materials that originally
came from the <a class="reference external" href="https://www.usgs.gov/">U.S. Geological Survey (USGS)</a>, an agency of the <a class="reference external" href="https://www.doi.gov/">United States Department of Interior</a>. For more
information, see the <a class="reference external" href="http://www.usgs.gov/visual-id/credit_usgs.html#copyright/">official USGS copyright policy</a>.</p>
<a class="reference external image-reference" href="http://creativecommons.org/publicdomain/zero/1.0/"><img alt="Creative Commons logo" src="http://i.creativecommons.org/p/zero/1.0/88x31.png" /></a>
</div>
<div class="section" id="disclaimer">
<h2>Disclaimer<a class="headerlink" href="#disclaimer" title="Permalink to this headline">¶</a></h2>
<p>This software is preliminary or provisional and is subject to revision. It is being provided to meet the need for timely
best science. The software has not received final approval by the U.S. Geological Survey (USGS). No warranty, expressed
or implied, is made by the USGS or the U.S. Government as to the functionality of the software and related material nor
shall the fact of release constitute any such warranty. The software is provided on the condition that neither the USGS
nor the U.S. Government shall be held liable for any damages resulting from the authorized or unauthorized use of the
software.</p>
<p>The USGS provides no warranty, expressed or implied, as to the correctness of the furnished software or the suitability
for any purpose. The software has been tested, but as with any complex software, there could be undetected errors. Users
who find errors are requested to report them to the USGS.</p>
<p>References to non-USGS products, trade names, and (or) services are provided for information purposes only and do not
constitute endorsement or warranty, express or implied, by the USGS, U.S. Department of Interior, or U.S. Government, as
to their suitability, content, usefulness, functioning, completeness, or accuracy.</p>
<p>Although this program has been used by the USGS, no warranty, expressed or implied, is made by the USGS or the United
States Government as to the accuracy and functioning of the program and related program material nor shall the fact of
distribution constitute any such warranty, and no responsibility is assumed by the USGS in connection therewith.</p>
<p>This software is provided “AS IS.”</p>
</div>
<div class="section" id="author">
<h2>Author<a class="headerlink" href="#author" title="Permalink to this headline">¶</a></h2>
<p>Jeremiah Lant &lt;<a class="reference external" href="mailto:jlant&#37;&#52;&#48;usgs&#46;gov">jlant<span>&#64;</span>usgs<span>&#46;</span>gov</a>&gt;</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">waterpy</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">waterpy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tests">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="#disclaimer">Disclaimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#author">Author</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code.html">Code documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to waterpy’s documentation!</a></li>
      <li>Next: <a href="overview.html" title="next chapter">Overview</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
      
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/readme.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>